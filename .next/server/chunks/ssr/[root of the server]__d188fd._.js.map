{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/diego/sistema-reservas/src/services/auth.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:8000/api';  // Alterar para a URL correta da sua API\r\n\r\nexport const login = async (email: string, password: string) => {\r\n  const response = await axios.post(`${API_URL}/login`, { email, password });\r\n  if (response.data.token) {\r\n    localStorage.setItem('token', response.data.token);  // Armazena o JWT no localStorage\r\n  }\r\n  return response.data;\r\n};\r\n\r\nexport const register = async (name: string, email: string, password: string) => {\r\n  const response = await axios.post(`${API_URL}/register`, { name, email, password });\r\n  return response.data;\r\n};\r\n\r\nexport const logout = () => {\r\n  localStorage.removeItem('token');  // Remove o token ao fazer logout\r\n};\r\n\r\nexport const getToken = () => {\r\n  return localStorage.getItem('token');\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n  return !!getToken();  // Verifica se há um token no localStorage\r\n};\r\n"],"names":[],"mappings":";;;;;;;AAAA;;;;;;AAEA,MAAM,UAAU,6BAA8B,wCAAwC;AAE/E,MAAM,QAAQ,OAAO,OAAe;IACzC,MAAM,WAAW,MAAM,qGAAA,CAAA,UAAK,CAAC,IAAI,CAAC,GAAG,QAAQ,MAAM,CAAC,EAAE;QAAE;QAAO;IAAS;IACxE,IAAI,SAAS,IAAI,CAAC,KAAK,EAAE;QACvB,aAAa,OAAO,CAAC,SAAS,SAAS,IAAI,CAAC,KAAK,GAAI,iCAAiC;IACxF;IACA,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,WAAW,OAAO,MAAc,OAAe;IAC1D,MAAM,WAAW,MAAM,qGAAA,CAAA,UAAK,CAAC,IAAI,CAAC,GAAG,QAAQ,SAAS,CAAC,EAAE;QAAE;QAAM;QAAO;IAAS;IACjF,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,SAAS;IACpB,aAAa,UAAU,CAAC,UAAW,iCAAiC;AACtE;AAEO,MAAM,WAAW;IACtB,OAAO,aAAa,OAAO,CAAC;AAC9B;AAEO,MAAM,kBAAkB;IAC7B,OAAO,CAAC,CAAC,YAAa,0CAA0C;AAClE"}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/diego/sistema-reservas/src/components/PrivateRoute.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport { isAuthenticated } from '../services/auth';\r\n\r\ninterface PrivateRouteProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst PrivateRoute: React.FC<PrivateRouteProps> = ({ children }) => {\r\n  const router = useRouter();\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated()) {\r\n      router.push('/login');  // Redireciona para login se não autenticado\r\n    } else {\r\n      setLoading(false);\r\n    }\r\n  }, [router]);\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n\r\n  return <>{children}</>;\r\n};\r\n\r\nexport default PrivateRoute;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;;;;;AAMA,MAAM,eAA4C,CAAC,EAAE,QAAQ,EAAE;IAC7D,MAAM,SAAS,CAAA,GAAA,uHAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,8FAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,8FAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,CAAA,GAAA,gHAAA,CAAA,kBAAe,AAAD,KAAK;YACtB,OAAO,IAAI,CAAC,WAAY,4CAA4C;QACtE,OAAO;YACL,WAAW;QACb;IACF,GAAG;QAAC;KAAO;IAEX,IAAI,SAAS,qBAAO,uIAAC;kBAAI;;;;;;IAEzB,qBAAO;kBAAG;;AACZ;uCAEe"}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 191, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/diego/sistema-reservas/src/components/Sidebar.tsx"],"sourcesContent":["import React from 'react';\r\nimport Link from 'next/link';\r\n\r\nconst Sidebar: React.FC = () => {\r\n  return (\r\n    <div style={{ width: '250px', padding: '20px', backgroundColor: '#f4f4f4' }}>\r\n      <h2>Menu</h2>\r\n      <ul>\r\n        <li><Link href=\"/dashboard\">Dashboard</Link></li>\r\n        <li><Link href=\"/ambientes\">Ambientes</Link></li>\r\n        <li><Link href=\"/agendamento\">Agendar Reserva</Link></li>\r\n        <li><Link href=\"/historico\">Histórico</Link></li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n"],"names":[],"mappings":";;;;AACA;;;AAEA,MAAM,UAAoB;IACxB,qBACE,uIAAC;QAAI,OAAO;YAAE,OAAO;YAAS,SAAS;YAAQ,iBAAiB;QAAU;;0BACxE,uIAAC;0BAAG;;;;;;0BACJ,uIAAC;;kCACC,uIAAC;kCAAG,cAAA,uIAAC,qHAAA,CAAA,UAAI;4BAAC,MAAK;sCAAa;;;;;;;;;;;kCAC5B,uIAAC;kCAAG,cAAA,uIAAC,qHAAA,CAAA,UAAI;4BAAC,MAAK;sCAAa;;;;;;;;;;;kCAC5B,uIAAC;kCAAG,cAAA,uIAAC,qHAAA,CAAA,UAAI;4BAAC,MAAK;sCAAe;;;;;;;;;;;kCAC9B,uIAAC;kCAAG,cAAA,uIAAC,qHAAA,CAAA,UAAI;4BAAC,MAAK;sCAAa;;;;;;;;;;;;;;;;;;;;;;;AAIpC;uCAEe"}},
    {"offset": {"line": 285, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 291, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/diego/sistema-reservas/src/services/reservation.ts"],"sourcesContent":["// services/reservation.ts\r\n\r\n// Função para obter as reservas (simulação)\r\nexport const getReservations = () => {\r\n    // Aqui simulamos um retorno de reservas\r\n    return [\r\n      { id: 1, date: '2024-11-19', time: '10:00' },\r\n      { id: 2, date: '2024-11-19', time: '11:00' },\r\n      { id: 3, date: '2024-11-19', time: '12:00' },\r\n    ];\r\n};\r\n\r\n// Função para obter o status dos ambientes (nova função)\r\nexport const getEnvironmentStatus = () => {\r\n  return [\r\n    { id: 1, name: 'Ambiente 1', status: 'Disponível' },\r\n    { id: 2, name: 'Ambiente 2', status: 'Ocupado' },\r\n    { id: 3, name: 'Ambiente 3', status: 'Em manutenção' },\r\n  ];\r\n};\r\n\r\n// Função de getAvailableTimes (já existente)\r\nexport const getAvailableTimes = (environmentId: number) => {\r\n  return [\r\n    { id: 1, time: '10:00', available: true },\r\n    { id: 2, time: '11:00', available: true },\r\n    { id: 3, time: '12:00', available: false },\r\n    { id: 4, time: '14:00', available: true },\r\n  ];\r\n};\r\n\r\n// Função de makeReservation (já existente)\r\nexport const makeReservation = async (data: { date: string; time: string }) => {\r\n  return new Promise((resolve) => {\r\n    setTimeout(() => {\r\n      resolve('Reserva realizada');\r\n    }, 1000);\r\n  });\r\n};\r\n"],"names":[],"mappings":"AAAA,0BAA0B;AAE1B,4CAA4C;;;;;;;AACrC,MAAM,kBAAkB;IAC3B,wCAAwC;IACxC,OAAO;QACL;YAAE,IAAI;YAAG,MAAM;YAAc,MAAM;QAAQ;QAC3C;YAAE,IAAI;YAAG,MAAM;YAAc,MAAM;QAAQ;QAC3C;YAAE,IAAI;YAAG,MAAM;YAAc,MAAM;QAAQ;KAC5C;AACL;AAGO,MAAM,uBAAuB;IAClC,OAAO;QACL;YAAE,IAAI;YAAG,MAAM;YAAc,QAAQ;QAAa;QAClD;YAAE,IAAI;YAAG,MAAM;YAAc,QAAQ;QAAU;QAC/C;YAAE,IAAI;YAAG,MAAM;YAAc,QAAQ;QAAgB;KACtD;AACH;AAGO,MAAM,oBAAoB,CAAC;IAChC,OAAO;QACL;YAAE,IAAI;YAAG,MAAM;YAAS,WAAW;QAAK;QACxC;YAAE,IAAI;YAAG,MAAM;YAAS,WAAW;QAAK;QACxC;YAAE,IAAI;YAAG,MAAM;YAAS,WAAW;QAAM;QACzC;YAAE,IAAI;YAAG,MAAM;YAAS,WAAW;QAAK;KACzC;AACH;AAGO,MAAM,kBAAkB,OAAO;IACpC,OAAO,IAAI,QAAQ,CAAC;QAClB,WAAW;YACT,QAAQ;QACV,GAAG;IACL;AACF"}},
    {"offset": {"line": 369, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 385, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/diego/sistema-reservas/src/pages/dashboard.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Sidebar from '../components/Sidebar';  // Mantemos o Sidebar\r\nimport { getReservations, getEnvironmentStatus } from '../services/reservation';  // Atualizada a importação\r\nimport { Reservation } from '../types/reservation';  // Correção de importação\r\nimport { format } from 'date-fns';\r\nimport { toast } from 'react-toastify';  // Para mensagens de erro e sucesso\r\n\r\nconst Dashboard: React.FC = () => {\r\n  const [reservations, setReservations] = useState<Reservation[]>([]);\r\n  const [environments, setEnvironments] = useState<any[]>([]);  // Alterei o tipo para qualquer coisa por enquanto\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const reservationsData = await getReservations();\r\n        const environmentsData = await getEnvironmentStatus(); // Agora está correto\r\n        \r\n        setReservations(reservationsData);\r\n        setEnvironments(environmentsData);\r\n      } catch (error) {\r\n        toast.error('Erro ao carregar os dados!');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ display: 'flex', flexDirection: 'row' }}>\r\n      <Sidebar />\r\n      <div style={{ marginLeft: '250px', padding: '20px', flex: 1 }}>\r\n        <h1>Dashboard</h1>\r\n\r\n        {/* Resumo de Reservas e Ambientes */}\r\n        <div className=\"dashboard-summary\">\r\n          <div className=\"summary-card\">\r\n            <h3>Total de Reservas</h3>\r\n            <p>{Array.isArray(reservations) ? reservations.length : 0} reservas realizadas</p>\r\n          </div>\r\n          <div className=\"summary-card\">\r\n            <h3>Ambientes</h3>\r\n            {Array.isArray(environments) && environments.length > 0 ? (\r\n              environments.map((env) => (\r\n                <div key={env.id} className=\"environment-status\">\r\n                  <p><strong>{env.name}</strong>: {env.status}</p>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <p>Não há ambientes disponíveis.</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tabela de Reservas */}\r\n        <div className=\"reservations-table\">\r\n          <h2>Últimas Reservas</h2>\r\n          {loading ? (\r\n            <p>Carregando...</p>\r\n          ) : (\r\n            <>\r\n              {Array.isArray(reservations) && reservations.length > 0 ? (\r\n                <table>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Ambiente</th>\r\n                      <th>Data</th>\r\n                      <th>Status</th>\r\n                      <th>Ações</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {reservations.slice(0, 5).map((reservation) => (\r\n                      <tr key={reservation.id}>\r\n                        <td>{reservation.environment}</td>\r\n                        <td>{format(new Date(reservation.date), 'dd/MM/yyyy HH:mm')}</td>\r\n                        <td>{reservation.status}</td>\r\n                        <td>\r\n                          <button className=\"action-btn edit-btn\" onClick={() => alert(`Editando reserva de ${reservation.environment}`)}>\r\n                            Editar\r\n                          </button>\r\n                          <button className=\"action-btn cancel-btn\" onClick={() => alert(`Cancelando reserva de ${reservation.environment}`)}>\r\n                            Cancelar\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              ) : (\r\n                <p>Não há reservas recentes.</p>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 685, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}